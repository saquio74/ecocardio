(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a3cd6"],{"0473":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-modal",{attrs:{id:"postUpdate",size:"lg","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(" Actualizar Post ")]},proxy:!0}])},[s("div",{staticClass:"d-block text-center"},[s("form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.guardarPost(e)}}},[s("div",{staticClass:"form-group row mt-2"},[s("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("titulo")]),s("div",{staticClass:"col-sm-7"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"form-control",attrs:{required:"",type:"text",placeholder:"titulo"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}})])]),s("div",{staticClass:"form-group row mt-2"},[s("label",{staticClass:"col-sm-3 col-form-label",attrs:{for:"staticEmail"}},[t._v("Contenido")]),s("div",{staticClass:"col-sm-7"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.description,expression:"post.description"}],staticClass:"form-control",attrs:{required:"",placeholder:"Descripcion de tu Post"},domProps:{value:t.post.description},on:{input:function(e){e.target.composing||t.$set(t.post,"description",e.target.value)}}})])]),s("div",{staticClass:"form-group row mt-2"},[s("label",{staticClass:"col-sm-3 col-form-label"},[t._v("Imagen del Post")]),s("div",{staticClass:"col-sm-7"},[s("input",{attrs:{type:"file",id:"file",accept:"image/*"},on:{change:t.upload}}),s("br"),s("img",{staticClass:"col-sm-12",attrs:{id:"img",src:t.image}})])]),s("div",{staticClass:"text-center"},[s("button",{staticClass:"btn btn-primary col-sm-8",attrs:{type:"submit"}},[t._v("Actualizar Post")])])])])])},o=[],i=(s("a4d3"),s("e01a"),s("96cf"),s("1da1")),r=s("5530"),n=s("2b0e"),c=s("bc3a"),l=s.n(c),p=s("2f62"),d=n["default"].extend({props:{postData:{}},data:function(){return{miniatura:"",post:{title:"",description:"",user_id:"",img:""}}},methods:Object(r["a"])({upload:function(t){this.post.user_id=this.user.id,this.post.img=t.target.files[0],this.loadImg(this.post.img)},loadImg:function(t){var e=this,s=new FileReader;s.onload=function(t){e.miniatura=t.target.result},s.readAsDataURL(t)},guardarPost:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var s,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=new FormData,s.append("id",t.post.id),s.append("title",t.post.title),s.append("description",t.post.description),s.append("user_id",t.user.id),s.append("img",t.post.img),e.prev=6,a=localStorage.getItem("token"),e.next=10,l.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+a}}).post("api/postUpdate",s);case 10:return e.sent,t.post.title="",t.post.description="",t.$notify({group:"foo",title:"¡¡¡Listo!!!",text:"Post guardado exitosamente!!!!!",type:"success"}),o={id:t.user.id},e.next=17,t.getPost();case 17:return e.next=19,t.getMyPosts(o);case 19:t.$bvModal.hide("postUpdate"),e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](6),console.log(e.t0);case 25:case"end":return e.stop()}}),e,null,[[6,22]])})))()},mostrarDatos:function(){this.post.title=this.postData.title,this.post.description=this.postData.description,this.post.img=this.postData.img,this.post.id=this.postData.id}},Object(p["b"])("post",["getPost","getMyPosts"])),computed:Object(r["a"])(Object(r["a"])({},Object(p["c"])(["user"])),{},{image:function(){return this.miniatura}}),watch:{postData:{handler:function(){this.mostrarDatos()}}}}),u=d,m=s("2877"),f=Object(m["a"])(u,a,o,!1,null,null,null);e["default"]=f.exports}}]);
//# sourceMappingURL=chunk-2d0a3cd6.80963bca.js.map